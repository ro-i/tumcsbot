<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 8.1.0 (20230707.0739)
 -->
<!-- Title: classes Pages: 1 -->
<svg width="6922pt" height="2441pt"
 viewBox="0.00 0.00 6922.00 2441.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2437.25)">
<title>classes</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2437.25 6918,-2437.25 6918,4 -4,4"/>
<!-- tumcsbot.client.Client -->
<g id="node1" class="node">
<title>tumcsbot.client.Client</title>
<polygon fill="#77aadd" stroke="#77aadd" points="595.75,-665.25 595.75,-1241.25 1749.5,-1241.25 1749.5,-665.25 595.75,-665.25"/>
<text text-anchor="start" x="1093.5" y="-1223.95" font-family="Times,serif" font-size="14.00">tumcsbot.client.Client</text>
<polyline fill="none" stroke="#77aadd" points="595.75,-1216 1749.5,-1216"/>
<text text-anchor="start" x="1061.25" y="-1198.7" font-family="Times,serif" font-size="14.00">_db</text>
<text text-anchor="start" x="1061.25" y="-1181.45" font-family="Times,serif" font-size="14.00">id : int</text>
<text text-anchor="start" x="1061.25" y="-1164.2" font-family="Times,serif" font-size="14.00">ping : str</text>
<text text-anchor="start" x="1061.25" y="-1146.95" font-family="Times,serif" font-size="14.00">ping_len : int</text>
<text text-anchor="start" x="1061.25" y="-1129.7" font-family="Times,serif" font-size="14.00">register_params : dict[str, Any]</text>
<polyline fill="none" stroke="#77aadd" points="595.75,-1121.75 1749.5,-1121.75"/>
<text text-anchor="start" x="603.75" y="-1104.45" font-family="Times,serif" font-size="14.00">__init__(): None</text>
<text text-anchor="start" x="603.75" y="-1087.2" font-family="Times,serif" font-size="14.00">call_endpoint(url: str | None, method: str, request: dict[str, Any] | None, longpolling: bool, files: list[IO[Any]] | None, timeout: float | None): dict[str, Any]</text>
<text text-anchor="start" x="603.75" y="-1069.95" font-family="Times,serif" font-size="14.00">call_on_each_event(callback: Callable[[dict[str, Any]], None], event_types: list[str] | None, narrow: list[list[str]] | None): None</text>
<text text-anchor="start" x="603.75" y="-1052.7" font-family="Times,serif" font-size="14.00">get_group_id_by_name(group_name: str): int | None</text>
<text text-anchor="start" x="603.75" y="-1035.45" font-family="Times,serif" font-size="14.00">get_messages(message_filters: dict[str, Any]): dict[str, Any]</text>
<text text-anchor="start" x="603.75" y="-1018.2" font-family="Times,serif" font-size="14.00">get_public_stream_names(use_db: bool): list[str]</text>
<text text-anchor="start" x="603.75" y="-1000.95" font-family="Times,serif" font-size="14.00">get_raw_message(message_id: int, apply_markdown: bool): dict[str, str]</text>
<text text-anchor="start" x="603.75" y="-983.7" font-family="Times,serif" font-size="14.00">get_stream_by_id(stream_id: int): dict[str, Any] | None</text>
<text text-anchor="start" x="603.75" y="-966.45" font-family="Times,serif" font-size="14.00">get_stream_id_by_name(stream_name: str): int | None</text>
<text text-anchor="start" x="603.75" y="-949.2" font-family="Times,serif" font-size="14.00">get_stream_name(stream_id: int): str | None</text>
<text text-anchor="start" x="603.75" y="-931.95" font-family="Times,serif" font-size="14.00">get_streams_from_regex(regex: str): list[str]</text>
<text text-anchor="start" x="603.75" y="-914.7" font-family="Times,serif" font-size="14.00">get_user_id_by_name(username: str): int | None</text>
<text text-anchor="start" x="603.75" y="-897.45" font-family="Times,serif" font-size="14.00">get_user_ids_from_active_status(active: bool): list[int] | None</text>
<text text-anchor="start" x="603.75" y="-880.2" font-family="Times,serif" font-size="14.00">get_user_ids_from_attribute(attribute: str, values: Iterable[Any], case_sensitive: bool): list[int] | None</text>
<text text-anchor="start" x="603.75" y="-862.95" font-family="Times,serif" font-size="14.00">get_user_ids_from_display_names(display_names: Iterable[str]): list[int] | None</text>
<text text-anchor="start" x="603.75" y="-845.7" font-family="Times,serif" font-size="14.00">get_user_ids_from_emails(emails: Iterable[str]): list[int] | None</text>
<text text-anchor="start" x="603.75" y="-828.45" font-family="Times,serif" font-size="14.00">get_users(request: dict[str, Any] | None): dict[str, Any]</text>
<text text-anchor="start" x="603.75" y="-811.2" font-family="Times,serif" font-size="14.00">is_only_pm_recipient(message: dict[str, Any]): bool</text>
<text text-anchor="start" x="603.75" y="-793.95" font-family="Times,serif" font-size="14.00">private_stream_exists(stream_name: str): bool</text>
<text text-anchor="start" x="603.75" y="-776.7" font-family="Times,serif" font-size="14.00">register(event_types: Iterable[str] | None, narrow: list[list[str]] | None): dict[str, Any]</text>
<text text-anchor="start" x="603.75" y="-759.45" font-family="Times,serif" font-size="14.00">send_response(response: Response): dict[str, Any]</text>
<text text-anchor="start" x="603.75" y="-742.2" font-family="Times,serif" font-size="14.00">send_responses(responses: Response | Iterable[Response | Iterable[Response]]): None</text>
<text text-anchor="start" x="603.75" y="-724.95" font-family="Times,serif" font-size="14.00">subscribe_all_from_stream_to_stream(from_stream: str, to_stream: str, description: str | None): bool</text>
<text text-anchor="start" x="603.75" y="-707.7" font-family="Times,serif" font-size="14.00">subscribe_users(user_ids: list[int], stream_name: str, description: str | None, allow_private_streams: bool, filter_active: bool): bool</text>
<text text-anchor="start" x="603.75" y="-690.45" font-family="Times,serif" font-size="14.00">subscribe_users_multiple_streams(user_ids: list[int], streams: list[tuple[str, str | None]], allow_private_streams: bool, filter_active: bool): tuple[bool, str | None]</text>
<text text-anchor="start" x="603.75" y="-673.2" font-family="Times,serif" font-size="14.00">user_is_privileged(user_id: int, allow_moderator: bool): bool</text>
</g>
<!-- tumcsbot.client.SharedClient -->
<g id="node2" class="node">
<title>tumcsbot.client.SharedClient</title>
<polygon fill="#77aadd" stroke="#77aadd" points="593.75,-1295.5 593.75,-1992.25 1747.5,-1992.25 1747.5,-1295.5 593.75,-1295.5"/>
<text text-anchor="start" x="1066" y="-1974.95" font-family="Times,serif" font-size="14.00">tumcsbot.client.SharedClient</text>
<polyline fill="none" stroke="#77aadd" points="593.75,-1967 1747.5,-1967"/>
<text text-anchor="start" x="1102" y="-1949.7" font-family="Times,serif" font-size="14.00">_client</text>
<text text-anchor="start" x="1102" y="-1932.45" font-family="Times,serif" font-size="14.00">_shared_client_lock</text>
<text text-anchor="start" x="1102" y="-1915.2" font-family="Times,serif" font-size="14.00">base_url</text>
<text text-anchor="start" x="1102" y="-1897.95" font-family="Times,serif" font-size="14.00">id</text>
<text text-anchor="start" x="1102" y="-1880.7" font-family="Times,serif" font-size="14.00">ping</text>
<text text-anchor="start" x="1102" y="-1863.45" font-family="Times,serif" font-size="14.00">ping_len</text>
<polyline fill="none" stroke="#77aadd" points="593.75,-1855.5 1747.5,-1855.5"/>
<text text-anchor="start" x="601.75" y="-1838.2" font-family="Times,serif" font-size="14.00">__init__(): None</text>
<text text-anchor="start" x="601.75" y="-1820.95" font-family="Times,serif" font-size="14.00">add_subscriptions(streams: Iterable[dict[str, Any]]): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1803.7" font-family="Times,serif" font-size="14.00">call_endpoint(url: str | None, method: str, request: dict[str, Any] | None, longpolling: bool, files: list[IO[Any]] | None, timeout: float | None): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1786.45" font-family="Times,serif" font-size="14.00">delete_message(message_id: int): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1769.2" font-family="Times,serif" font-size="14.00">delete_stream(stream_id: int): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1751.95" font-family="Times,serif" font-size="14.00">get_messages(message_filters: dict[str, Any]): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1734.7" font-family="Times,serif" font-size="14.00">get_public_stream_names(use_db: bool): list[str]</text>
<text text-anchor="start" x="601.75" y="-1717.45" font-family="Times,serif" font-size="14.00">get_raw_message(message_id: int, apply_markdown: bool): dict[str, str]</text>
<text text-anchor="start" x="601.75" y="-1700.2" font-family="Times,serif" font-size="14.00">get_stream_by_id(stream_id: int): dict[str, Any] | None</text>
<text text-anchor="start" x="601.75" y="-1682.95" font-family="Times,serif" font-size="14.00">get_stream_id(stream: str): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1665.7" font-family="Times,serif" font-size="14.00">get_stream_id_by_name(stream_name: str): int | None</text>
<text text-anchor="start" x="601.75" y="-1648.45" font-family="Times,serif" font-size="14.00">get_stream_name(stream_id: int): str | None</text>
<text text-anchor="start" x="601.75" y="-1631.2" font-family="Times,serif" font-size="14.00">get_streams_from_regex(regex: str): list[str]</text>
<text text-anchor="start" x="601.75" y="-1613.95" font-family="Times,serif" font-size="14.00">get_user_by_id(user_id: int): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1596.7" font-family="Times,serif" font-size="14.00">get_user_id_by_name(username: str): int | None</text>
<text text-anchor="start" x="601.75" y="-1579.45" font-family="Times,serif" font-size="14.00">get_user_ids_from_active_status(active: bool): list[int] | None</text>
<text text-anchor="start" x="601.75" y="-1562.2" font-family="Times,serif" font-size="14.00">get_user_ids_from_attribute(attribute: str, values: Iterable[Any], case_sensitive: bool): list[int] | None</text>
<text text-anchor="start" x="601.75" y="-1544.95" font-family="Times,serif" font-size="14.00">get_user_ids_from_display_names(display_names: Iterable[str]): list[int] | None</text>
<text text-anchor="start" x="601.75" y="-1527.7" font-family="Times,serif" font-size="14.00">get_user_ids_from_emails(emails: Iterable[str]): list[int] | None</text>
<text text-anchor="start" x="601.75" y="-1510.45" font-family="Times,serif" font-size="14.00">get_users(request: dict[str, Any] | None): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1493.2" font-family="Times,serif" font-size="14.00">is_only_pm_recipient(message: dict[str, Any]): bool</text>
<text text-anchor="start" x="601.75" y="-1475.95" font-family="Times,serif" font-size="14.00">private_stream_exists(stream_name: str): bool</text>
<text text-anchor="start" x="601.75" y="-1458.7" font-family="Times,serif" font-size="14.00">remove_reaction(reaction_data: dict[str, Any]): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1441.45" font-family="Times,serif" font-size="14.00">remove_subscriptions(streams: Iterable[str], principals: Sequence[str] | Sequence[int] | None): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1424.2" font-family="Times,serif" font-size="14.00">send_response(response: Response): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1406.95" font-family="Times,serif" font-size="14.00">send_responses(responses: Response | Iterable[Response | Iterable[Response]]): None</text>
<text text-anchor="start" x="601.75" y="-1389.7" font-family="Times,serif" font-size="14.00">subscribe_all_from_stream_to_stream(from_stream: str, to_stream: str, description: str | None): bool</text>
<text text-anchor="start" x="601.75" y="-1372.45" font-family="Times,serif" font-size="14.00">subscribe_users(user_ids: list[int], stream_name: str, description: str | None, allow_private_streams: bool, filter_active: bool): bool</text>
<text text-anchor="start" x="601.75" y="-1355.2" font-family="Times,serif" font-size="14.00">subscribe_users_multiple_streams(user_ids: list[int], streams: list[tuple[str, str | None]], allow_private_streams: bool, filter_active: bool): tuple[bool, str | None]</text>
<text text-anchor="start" x="601.75" y="-1337.95" font-family="Times,serif" font-size="14.00">update_message(message_data: dict[str, Any]): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1320.7" font-family="Times,serif" font-size="14.00">update_stream(stream_data: dict[str, Any]): dict[str, Any]</text>
<text text-anchor="start" x="601.75" y="-1303.45" font-family="Times,serif" font-size="14.00">user_is_privileged(user_id: int, allow_moderator: bool): bool</text>
</g>
<!-- tumcsbot.client.Client&#45;&gt;tumcsbot.client.SharedClient -->
<g id="edge7" class="edge">
<title>tumcsbot.client.Client&#45;&gt;tumcsbot.client.SharedClient</title>
<path fill="none" stroke="black" d="M1171.79,-1240.8C1171.75,-1254.66 1171.71,-1268.64 1171.67,-1282.66"/>
<polygon fill="black" stroke="black" points="1171.67,-1282.64 1175.65,-1288.65 1171.64,-1294.64 1167.65,-1288.63 1171.67,-1282.64"/>
<text text-anchor="middle" x="1195.88" y="-1263.7" font-family="Times,serif" font-size="14.00" fill="green">_client</text>
</g>
<!-- tumcsbot.plugin._Plugin -->
<g id="node19" class="node">
<title>tumcsbot.plugin._Plugin</title>
<polygon fill="#77aadd" stroke="#77aadd" points="2328.38,-1393.75 2328.38,-1894 2942.88,-1894 2942.88,-1393.75 2328.38,-1393.75"/>
<text text-anchor="start" x="2549" y="-1876.7" font-family="Times,serif" font-size="14.00">tumcsbot.plugin._Plugin</text>
<polyline fill="none" stroke="#77aadd" points="2328.38,-1868.75 2942.88,-1868.75"/>
<text text-anchor="start" x="2455.62" y="-1851.45" font-family="Times,serif" font-size="14.00">_client : Client | SharedClient | None</text>
<text text-anchor="start" x="2455.62" y="-1834.2" font-family="Times,serif" font-size="14.00">_update_plugin_sql : Final[str]</text>
<text text-anchor="start" x="2455.62" y="-1816.95" font-family="Times,serif" font-size="14.00">_worker : Thread | multiprocessing.Process | None</text>
<text text-anchor="start" x="2455.62" y="-1799.7" font-family="Times,serif" font-size="14.00">client</text>
<text text-anchor="start" x="2455.62" y="-1782.45" font-family="Times,serif" font-size="14.00">dependencies : list[str]</text>
<text text-anchor="start" x="2455.62" y="-1765.2" font-family="Times,serif" font-size="14.00">events : list[EventType]</text>
<text text-anchor="start" x="2455.62" y="-1747.95" font-family="Times,serif" font-size="14.00">logger : Logger</text>
<text text-anchor="start" x="2455.62" y="-1730.7" font-family="Times,serif" font-size="14.00">need_exclusive_client : bool</text>
<text text-anchor="start" x="2455.62" y="-1713.45" font-family="Times,serif" font-size="14.00">plugin_context</text>
<text text-anchor="start" x="2455.62" y="-1696.2" font-family="Times,serif" font-size="14.00">queue : str</text>
<text text-anchor="start" x="2455.62" y="-1678.95" font-family="Times,serif" font-size="14.00">running : SynchronizedArray, SynchronizedString</text>
<text text-anchor="start" x="2455.62" y="-1661.7" font-family="Times,serif" font-size="14.00">zulip_events : list[str]</text>
<polyline fill="none" stroke="#77aadd" points="2328.38,-1653.75 2942.88,-1653.75"/>
<text text-anchor="start" x="2336.38" y="-1637.45" font-family="Times,serif" font-size="14.00">__init__(plugin_context: PluginContext, client: SharedClient | None): None</text>
<text text-anchor="start" x="2336.38" y="-1623.45" font-family="Times,serif" font-size="14.00">_init_db(): None</text>
<text text-anchor="start" x="2336.38" y="-1609.45" font-family="Times,serif" font-style="italic" font-size="14.00">_init_plugin</text>
<text text-anchor="start" x="2418.88" y="-1609.45" font-family="Times,serif" font-size="14.00">(): None</text>
<text text-anchor="start" x="2336.38" y="-1595.45" font-family="Times,serif" font-style="italic" font-size="14.00">clear_queue</text>
<text text-anchor="start" x="2421.88" y="-1595.45" font-family="Times,serif" font-size="14.00">(): None</text>
<text text-anchor="start" x="2336.38" y="-1581.45" font-family="Times,serif" font-style="italic" font-size="14.00">create_logger</text>
<text text-anchor="start" x="2433.88" y="-1581.45" font-family="Times,serif" font-size="14.00">(): logging.Logger</text>
<text text-anchor="start" x="2336.38" y="-1567.45" font-family="Times,serif" font-style="italic" font-size="14.00">create_queue</text>
<text text-anchor="start" x="2431.62" y="-1567.45" font-family="Times,serif" font-size="14.00">(): &#39;queue.SimpleQueue[Event] | multiprocessing.SimpleQueue[Event]&#39;</text>
<text text-anchor="start" x="2336.38" y="-1553.45" font-family="Times,serif" font-style="italic" font-size="14.00">create_worker</text>
<text text-anchor="start" x="2438.38" y="-1553.45" font-family="Times,serif" font-size="14.00">(): Thread | multiprocessing.Process</text>
<text text-anchor="start" x="2336.38" y="-1539.45" font-family="Times,serif" font-size="14.00">handle_event(event: Event): None</text>
<text text-anchor="start" x="2336.38" y="-1525.45" font-family="Times,serif" font-style="italic" font-size="14.00">handle_zulip_event</text>
<text text-anchor="start" x="2472.12" y="-1525.45" font-family="Times,serif" font-size="14.00">(event: Event): Response | Iterable[Response]</text>
<text text-anchor="start" x="2336.38" y="-1511.45" font-family="Times,serif" font-size="14.00">is_alive(): bool</text>
<text text-anchor="start" x="2336.38" y="-1497.45" font-family="Times,serif" font-size="14.00">is_responsible(event: Event): bool</text>
<text text-anchor="start" x="2336.38" y="-1483.45" font-family="Times,serif" font-size="14.00">join(): None</text>
<text text-anchor="start" x="2336.38" y="-1469.45" font-family="Times,serif" font-size="14.00">plugin_name(): str</text>
<text text-anchor="start" x="2336.38" y="-1455.45" font-family="Times,serif" font-size="14.00">push_event(event: Event): None</text>
<text text-anchor="start" x="2336.38" y="-1441.45" font-family="Times,serif" font-size="14.00">reload(): None</text>
<text text-anchor="start" x="2336.38" y="-1427.45" font-family="Times,serif" font-size="14.00">run(): None</text>
<text text-anchor="start" x="2336.38" y="-1413.45" font-family="Times,serif" font-size="14.00">start(): None</text>
<text text-anchor="start" x="2336.38" y="-1399.45" font-family="Times,serif" font-size="14.00">stop(): None</text>
</g>
<!-- tumcsbot.client.Client&#45;&gt;tumcsbot.plugin._Plugin -->
<g id="edge8" class="edge">
<title>tumcsbot.client.Client&#45;&gt;tumcsbot.plugin._Plugin</title>
<path fill="none" stroke="black" d="M1749.21,-1239.04C1752.35,-1239.96 1755.49,-1240.86 1758.62,-1241.75 1818.77,-1258.75 2262.71,-1267.07 2318.62,-1295 2363.96,-1317.65 2405.94,-1349.75 2443.53,-1385.38"/>
<polygon fill="black" stroke="black" points="2443.19,-1385.06 2450.29,-1386.35 2451.83,-1393.39 2444.74,-1392.11 2443.19,-1385.06"/>
<text text-anchor="middle" x="2233.88" y="-1263.7" font-family="Times,serif" font-size="14.00" fill="green">_client</text>
</g>
<!-- tumcsbot.tumcsbot._ZulipEventListener -->
<g id="node23" class="node">
<title>tumcsbot.tumcsbot._ZulipEventListener</title>
<polygon fill="#77aadd" stroke="#77aadd" points="1765.25,-1580.12 1765.25,-1707.62 2310,-1707.62 2310,-1580.12 1765.25,-1580.12"/>
<text text-anchor="start" x="1894" y="-1690.33" font-family="Times,serif" font-size="14.00">tumcsbot.tumcsbot._ZulipEventListener</text>
<polyline fill="none" stroke="#77aadd" points="1765.25,-1682.38 2310,-1682.38"/>
<text text-anchor="start" x="1980.62" y="-1665.08" font-family="Times,serif" font-size="14.00">client</text>
<text text-anchor="start" x="1980.62" y="-1647.83" font-family="Times,serif" font-size="14.00">events : list[str]</text>
<text text-anchor="start" x="1980.62" y="-1630.58" font-family="Times,serif" font-size="14.00">queue : str</text>
<polyline fill="none" stroke="#77aadd" points="1765.25,-1622.62 2310,-1622.62"/>
<text text-anchor="start" x="1773.25" y="-1605.33" font-family="Times,serif" font-size="14.00">__init__(zuliprc: str, events: list[str], queue: &#39;SimpleQueueT[Event]&#39;): None</text>
<text text-anchor="start" x="1773.25" y="-1588.08" font-family="Times,serif" font-size="14.00">run(): None</text>
</g>
<!-- tumcsbot.client.Client&#45;&gt;tumcsbot.tumcsbot._ZulipEventListener -->
<g id="edge9" class="edge">
<title>tumcsbot.client.Client&#45;&gt;tumcsbot.tumcsbot._ZulipEventListener</title>
<path fill="none" stroke="black" d="M1689.17,-1241.07C1712.53,-1258.54 1735.14,-1276.55 1756.62,-1295 1851.9,-1376.85 1938.99,-1494.2 1990.18,-1569.47"/>
<polygon fill="black" stroke="black" points="1990.25,-1569.57 1996.92,-1572.31 1996.96,-1579.52 1990.29,-1576.78 1990.25,-1569.57"/>
<text text-anchor="middle" x="1749.5" y="-1263.7" font-family="Times,serif" font-size="14.00" fill="green">client</text>
</g>
<!-- tumcsbot.tumcsbot.TumCSBot -->
<g id="node20" class="node">
<title>tumcsbot.tumcsbot.TumCSBot</title>
<polygon fill="#77aadd" stroke="#77aadd" points="394.88,-2046.5 394.88,-2432.75 1054.38,-2432.75 1054.38,-2046.5 394.88,-2046.5"/>
<text text-anchor="start" x="615.12" y="-2415.45" font-family="Times,serif" font-size="14.00">tumcsbot.tumcsbot.TumCSBot</text>
<polyline fill="none" stroke="#77aadd" points="394.88,-2407.5 1054.38,-2407.5"/>
<text text-anchor="start" x="600.88" y="-2390.2" font-family="Times,serif" font-size="14.00">_event_listener</text>
<text text-anchor="start" x="600.88" y="-2372.95" font-family="Times,serif" font-size="14.00">_queue_delivery_worker</text>
<text text-anchor="start" x="600.88" y="-2355.7" font-family="Times,serif" font-size="14.00">client</text>
<text text-anchor="start" x="600.88" y="-2338.45" font-family="Times,serif" font-size="14.00">event_queue : str</text>
<text text-anchor="start" x="600.88" y="-2321.2" font-family="Times,serif" font-size="14.00">events : list[str]</text>
<text text-anchor="start" x="600.88" y="-2303.95" font-family="Times,serif" font-size="14.00">plugins : dict[str, _Plugin]</text>
<text text-anchor="start" x="600.88" y="-2286.7" font-family="Times,serif" font-size="14.00">plugins_stopped : dict[str, _Plugin]</text>
<text text-anchor="start" x="600.88" y="-2269.45" font-family="Times,serif" font-size="14.00">process_loopback_queue : str</text>
<text text-anchor="start" x="600.88" y="-2252.2" font-family="Times,serif" font-size="14.00">restart : bool</text>
<text text-anchor="start" x="600.88" y="-2234.95" font-family="Times,serif" font-size="14.00">shared_client</text>
<text text-anchor="start" x="600.88" y="-2217.7" font-family="Times,serif" font-size="14.00">stopped : bool</text>
<polyline fill="none" stroke="#77aadd" points="394.88,-2209.75 1054.38,-2209.75"/>
<text text-anchor="start" x="402.88" y="-2192.45" font-family="Times,serif" font-size="14.00">__init__(zuliprc: str, db_path: str, debug: bool, logfile: str | None): None</text>
<text text-anchor="start" x="402.88" y="-2175.2" font-family="Times,serif" font-size="14.00">distribute_event(event: Event): None</text>
<text text-anchor="start" x="402.88" y="-2157.95" font-family="Times,serif" font-size="14.00">exit_handler(): None</text>
<text text-anchor="start" x="402.88" y="-2140.7" font-family="Times,serif" font-size="14.00">restart_plugin(name: str): None</text>
<text text-anchor="start" x="402.88" y="-2123.45" font-family="Times,serif" font-size="14.00">run(): None</text>
<text text-anchor="start" x="402.88" y="-2106.2" font-family="Times,serif" font-size="14.00">sigterm_handler(): None</text>
<text text-anchor="start" x="402.88" y="-2088.95" font-family="Times,serif" font-size="14.00">start_plugins(plugin_classes: Iterable[Type[_Plugin]], zuliprc: str, logging_level: int): None</text>
<text text-anchor="start" x="402.88" y="-2071.7" font-family="Times,serif" font-size="14.00">stop_plugin(name: str, update_plugins_dicts: bool): None</text>
<text text-anchor="start" x="402.88" y="-2054.45" font-family="Times,serif" font-size="14.00">zulip_event_preprocess(event: dict[str, Any]): dict[str, Any]</text>
</g>
<!-- tumcsbot.client.SharedClient&#45;&gt;tumcsbot.tumcsbot.TumCSBot -->
<g id="edge10" class="edge">
<title>tumcsbot.client.SharedClient&#45;&gt;tumcsbot.tumcsbot.TumCSBot</title>
<path fill="none" stroke="black" d="M909.89,-1991.98C898.51,-2007.13 887.26,-2022.11 876.27,-2036.74"/>
<polygon fill="black" stroke="black" points="876.45,-2036.5 876.05,-2043.7 869.25,-2046.09 869.65,-2038.89 876.45,-2036.5"/>
<text text-anchor="middle" x="942.25" y="-2014.7" font-family="Times,serif" font-size="14.00" fill="green">shared_client</text>
</g>
<!-- tumcsbot.lib.CommandParser.Args -->
<g id="node3" class="node">
<title>tumcsbot.lib.CommandParser.Args</title>
<polygon fill="#99ddff" stroke="#99ddff" points="1716.25,-280.5 1716.25,-331 1859,-331 1859,-280.5 1716.25,-280.5"/>
<text text-anchor="start" x="1724.25" y="-313.7" font-family="Times,serif" font-size="14.00">tumcsbot.lib.Args</text>
<polyline fill="none" stroke="#99ddff" points="1716.25,-305.75 1859,-305.75"/>
<polyline fill="none" stroke="#99ddff" points="1716.25,-305.75 1859,-305.75"/>
<text text-anchor="start" x="1785.38" y="-288.45" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- tumcsbot.lib.CommandParser -->
<g id="node4" class="node">
<title>tumcsbot.lib.CommandParser</title>
<polygon fill="#77aadd" stroke="#77aadd" points="2567.5,-181.62 2567.5,-429.88 4097.75,-429.88 4097.75,-181.62 2567.5,-181.62"/>
<text text-anchor="start" x="3226.5" y="-412.57" font-family="Times,serif" font-size="14.00">tumcsbot.lib.CommandParser</text>
<polyline fill="none" stroke="#77aadd" points="2567.5,-404.62 4097.75,-404.62"/>
<text text-anchor="start" x="2751.75" y="-387.32" font-family="Times,serif" font-size="14.00">commands : dict[str, tuple[dict[str, Callable[[str], Any] | None], dict[str, Callable[[str], Any]], dict[str, Callable[[str], Any]], dict[str, Callable[[str], Any]], str | None]]</text>
<polyline fill="none" stroke="#77aadd" points="2567.5,-379.38 4097.75,-379.38"/>
<text text-anchor="start" x="2575.5" y="-362.07" font-family="Times,serif" font-size="14.00">__init__(): None</text>
<text text-anchor="start" x="2575.5" y="-344.82" font-family="Times,serif" font-size="14.00">_convert_argument(target_name: str, arg: str, converter: Callable[[str], Any], solution: dict[str, Any]): bool</text>
<text text-anchor="start" x="2575.5" y="-327.57" font-family="Times,serif" font-size="14.00">_format_subcommand(name: str, arguments: tuple[dict[str, Callable[[Any], Any] | None], dict[str, Callable[[str], Any]], dict[str, Callable[[str], Any]], dict[str, Callable[[str], Any]], str | None]): str</text>
<text text-anchor="start" x="2575.5" y="-310.32" font-family="Times,serif" font-size="14.00">_match_argument_to_target(target: dict[str, Any], arg: str, solution: dict[str, Any]): bool</text>
<text text-anchor="start" x="2575.5" y="-293.07" font-family="Times,serif" font-size="14.00">_match_arguments(positional: dict[str, Any], optional: dict[str, Any], greedy: dict[str, Any], args: list[str]): tuple[dict[str, Any], list[str]] | None</text>
<text text-anchor="start" x="2575.5" y="-275.82" font-family="Times,serif" font-size="14.00">_parse_opts(opts: dict[str, Callable[[Any], Any] | None], tokens: list[str]): tuple[dict[str, Any], list[str]] | None</text>
<text text-anchor="start" x="2575.5" y="-258.57" font-family="Times,serif" font-size="14.00">add_subcommand(name: str, opts: dict[str, Callable[[str], Any] | None], args: dict[str, Callable[[str], Any]], optionals: dict[str, Callable[[str], Any]], greedy: dict[str, Callable[[str], Any]], description: str | None): bool</text>
<text text-anchor="start" x="2575.5" y="-241.32" font-family="Times,serif" font-size="14.00">generate_description(): str</text>
<text text-anchor="start" x="2575.5" y="-224.07" font-family="Times,serif" font-size="14.00">generate_syntax(): str</text>
<text text-anchor="start" x="2575.5" y="-206.82" font-family="Times,serif" font-size="14.00">parse(command: str | None): tuple[str, Opts, Args] | None</text>
<text text-anchor="start" x="2575.5" y="-189.57" font-family="Times,serif" font-size="14.00">strip_quotes(s: str): str</text>
</g>
<!-- tumcsbot.lib.Conf -->
<g id="node5" class="node">
<title>tumcsbot.lib.Conf</title>
<polygon fill="#77aadd" stroke="#77aadd" points="4087,-846.38 4087,-1060.12 4318.25,-1060.12 4318.25,-846.38 4087,-846.38"/>
<text text-anchor="start" x="4139.25" y="-1042.83" font-family="Times,serif" font-size="14.00">tumcsbot.lib.Conf</text>
<polyline fill="none" stroke="#77aadd" points="4087,-1034.88 4318.25,-1034.88"/>
<text text-anchor="start" x="4141.88" y="-1017.58" font-family="Times,serif" font-size="14.00">_db</text>
<text text-anchor="start" x="4141.88" y="-1000.33" font-family="Times,serif" font-size="14.00">_get_sql : str</text>
<text text-anchor="start" x="4141.88" y="-983.08" font-family="Times,serif" font-size="14.00">_list_sql : str</text>
<text text-anchor="start" x="4141.88" y="-965.83" font-family="Times,serif" font-size="14.00">_remove_sql : str</text>
<text text-anchor="start" x="4141.88" y="-948.58" font-family="Times,serif" font-size="14.00">_update_sql : str</text>
<polyline fill="none" stroke="#77aadd" points="4087,-940.62 4318.25,-940.62"/>
<text text-anchor="start" x="4095" y="-923.33" font-family="Times,serif" font-size="14.00">__init__(db: &#39;DB | None&#39;): None</text>
<text text-anchor="start" x="4095" y="-906.08" font-family="Times,serif" font-size="14.00">get(key: str): str | None</text>
<text text-anchor="start" x="4095" y="-888.83" font-family="Times,serif" font-size="14.00">list(): list[tuple[str, str]]</text>
<text text-anchor="start" x="4095" y="-871.58" font-family="Times,serif" font-size="14.00">remove(key: str): None</text>
<text text-anchor="start" x="4095" y="-854.33" font-family="Times,serif" font-size="14.00">set(key: str, value: str): None</text>
</g>
<!-- tumcsbot.lib.DB -->
<g id="node6" class="node">
<title>tumcsbot.lib.DB</title>
<polygon fill="#77aadd" stroke="#77aadd" points="1133.88,-216.12 1133.88,-395.38 1469.38,-395.38 1469.38,-216.12 1133.88,-216.12"/>
<text text-anchor="start" x="1243.88" y="-378.07" font-family="Times,serif" font-size="14.00">tumcsbot.lib.DB</text>
<polyline fill="none" stroke="#77aadd" points="1133.88,-370.12 1469.38,-370.12"/>
<text text-anchor="start" x="1243.12" y="-352.82" font-family="Times,serif" font-size="14.00">connection</text>
<text text-anchor="start" x="1243.12" y="-335.57" font-family="Times,serif" font-size="14.00">cursor</text>
<text text-anchor="start" x="1243.12" y="-318.32" font-family="Times,serif" font-size="14.00">path : str | None</text>
<text text-anchor="start" x="1243.12" y="-301.07" font-family="Times,serif" font-size="14.00">read_only : bool</text>
<polyline fill="none" stroke="#77aadd" points="1133.88,-293.12 1469.38,-293.12"/>
<text text-anchor="start" x="1141.88" y="-275.82" font-family="Times,serif" font-size="14.00">__init__(): None</text>
<text text-anchor="start" x="1141.88" y="-258.57" font-family="Times,serif" font-size="14.00">checkout_table(table: str, schema: str): None</text>
<text text-anchor="start" x="1141.88" y="-241.32" font-family="Times,serif" font-size="14.00">close(): None</text>
<text text-anchor="start" x="1141.88" y="-224.07" font-family="Times,serif" font-size="14.00">execute(command: str): list[tuple[Any, ...]]</text>
</g>
<!-- tumcsbot.lib.DB&#45;&gt;tumcsbot.client.Client -->
<g id="edge11" class="edge">
<title>tumcsbot.lib.DB&#45;&gt;tumcsbot.client.Client</title>
<path fill="none" stroke="black" d="M1283.96,-395.15C1270.54,-462.31 1251.24,-558.85 1232.48,-652.76"/>
<polygon fill="black" stroke="black" points="1232.48,-652.73 1235.23,-659.4 1230.13,-664.5 1227.38,-657.83 1232.48,-652.73"/>
<text text-anchor="middle" x="1250" y="-633.45" font-family="Times,serif" font-size="14.00" fill="green">_db</text>
</g>
<!-- tumcsbot.lib.DB&#45;&gt;tumcsbot.lib.Conf -->
<g id="edge12" class="edge">
<title>tumcsbot.lib.DB&#45;&gt;tumcsbot.lib.Conf</title>
<path fill="none" stroke="black" d="M1385.52,-395.08C1461.63,-468.47 1581.03,-567.69 1707.62,-611.5 1832.08,-654.57 3968.31,-591.31 4077.62,-664.75 4134.37,-702.87 4165.52,-772.79 4182.53,-834.13"/>
<polygon fill="black" stroke="black" points="4182.55,-834.2 4187.96,-838.97 4185.62,-845.8 4180.22,-841.02 4182.55,-834.2"/>
<text text-anchor="middle" x="4001" y="-633.45" font-family="Times,serif" font-size="14.00" fill="green">_db</text>
</g>
<!-- tumcsbot.lib.CommandParser.IllegalCommandParserState -->
<g id="node7" class="node">
<title>tumcsbot.lib.CommandParser.IllegalCommandParserState</title>
<polygon fill="#99ddff" stroke="#99ddff" points="4461.25,-280.5 4461.25,-331 4772,-331 4772,-280.5 4461.25,-280.5"/>
<text text-anchor="start" x="4469.25" y="-313.7" font-family="Times,serif" font-size="14.00" fill="red">tumcsbot.lib.IllegalCommandParserState</text>
<polyline fill="none" stroke="#99ddff" points="4461.25,-305.75 4772,-305.75"/>
<polyline fill="none" stroke="#99ddff" points="4461.25,-305.75 4772,-305.75"/>
<text text-anchor="start" x="4614.38" y="-288.45" font-family="Times,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- tumcsbot.lib.MessageType -->
<g id="node8" class="node">
<title>tumcsbot.lib.MessageType</title>
<polygon fill="#77aadd" stroke="#77aadd" points="4962,-267.88 4962,-343.62 5169.25,-343.62 5169.25,-267.88 4962,-267.88"/>
<text text-anchor="start" x="4970" y="-326.32" font-family="Times,serif" font-size="14.00">tumcsbot.lib.MessageType</text>
<polyline fill="none" stroke="#77aadd" points="4962,-318.38 5169.25,-318.38"/>
<text text-anchor="start" x="5046.12" y="-301.07" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="4962,-293.12 5169.25,-293.12"/>
<text text-anchor="start" x="5063.38" y="-275.82" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- tumcsbot.lib.Response -->
<g id="node11" class="node">
<title>tumcsbot.lib.Response</title>
<polygon fill="#77aadd" stroke="#77aadd" points="4336,-725.62 4336,-1180.88 5425.25,-1180.88 5425.25,-725.62 4336,-725.62"/>
<text text-anchor="start" x="4799.62" y="-1163.58" font-family="Times,serif" font-size="14.00">tumcsbot.lib.Response</text>
<polyline fill="none" stroke="#77aadd" points="4336,-1155.62 5425.25,-1155.62"/>
<text text-anchor="start" x="4736.62" y="-1138.33" font-family="Times,serif" font-size="14.00">command_not_found_msg : Optional[str]</text>
<text text-anchor="start" x="4736.62" y="-1121.08" font-family="Times,serif" font-size="14.00">error_msg : Optional[str]</text>
<text text-anchor="start" x="4736.62" y="-1103.83" font-family="Times,serif" font-size="14.00">exception_msg : Optional[str]</text>
<text text-anchor="start" x="4736.62" y="-1086.58" font-family="Times,serif" font-size="14.00">greet_msg : str</text>
<text text-anchor="start" x="4736.62" y="-1069.33" font-family="Times,serif" font-size="14.00">message_type</text>
<text text-anchor="start" x="4736.62" y="-1052.08" font-family="Times,serif" font-size="14.00">no_emoji : str</text>
<text text-anchor="start" x="4736.62" y="-1034.83" font-family="Times,serif" font-size="14.00">ok_emoji : str</text>
<text text-anchor="start" x="4736.62" y="-1017.58" font-family="Times,serif" font-size="14.00">privilege_err_msg : Optional[str]</text>
<text text-anchor="start" x="4736.62" y="-1000.33" font-family="Times,serif" font-size="14.00">response : dict[str, Any]</text>
<polyline fill="none" stroke="#77aadd" points="4336,-992.38 5425.25,-992.38"/>
<text text-anchor="start" x="4344" y="-975.08" font-family="Times,serif" font-size="14.00">__init__(message_type: MessageType, response: dict[str, Any]): None</text>
<text text-anchor="start" x="4344" y="-957.83" font-family="Times,serif" font-size="14.00">__repr__(): str</text>
<text text-anchor="start" x="4344" y="-940.58" font-family="Times,serif" font-size="14.00">__str__(): str</text>
<text text-anchor="start" x="4344" y="-923.33" font-family="Times,serif" font-size="14.00">build_message(message: dict[str, Any] | None, content: str, msg_type: str | None, to: str | int | list[int] | list[str] | None, subject: str | None): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-906.08" font-family="Times,serif" font-size="14.00">build_reaction(message: dict[str, Any], emoji: str): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-888.83" font-family="Times,serif" font-size="14.00">build_reaction_from_id(message_id: int, emoji: str): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-871.58" font-family="Times,serif" font-size="14.00">command_not_found(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-854.33" font-family="Times,serif" font-size="14.00">error(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-837.08" font-family="Times,serif" font-size="14.00">exception(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-819.83" font-family="Times,serif" font-size="14.00">greet(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-802.58" font-family="Times,serif" font-size="14.00">is_none(): bool</text>
<text text-anchor="start" x="4344" y="-785.33" font-family="Times,serif" font-size="14.00">no(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-768.08" font-family="Times,serif" font-size="14.00">none(): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-750.83" font-family="Times,serif" font-size="14.00">ok(message: dict[str, Any]): &#39;Response&#39;</text>
<text text-anchor="start" x="4344" y="-733.58" font-family="Times,serif" font-size="14.00">privilege_err(message: dict[str, Any]): &#39;Response&#39;</text>
</g>
<!-- tumcsbot.lib.MessageType&#45;&gt;tumcsbot.lib.Response -->
<g id="edge16" class="edge">
<title>tumcsbot.lib.MessageType&#45;&gt;tumcsbot.lib.Response</title>
<path fill="none" stroke="black" d="M5055.15,-343.3C5034.89,-413.98 4988.85,-574.63 4949.14,-713.18"/>
<polygon fill="none" stroke="black" points="4949.12,-713.25 4951.31,-720.12 4945.81,-724.79 4943.62,-717.92 4949.12,-713.25"/>
<text text-anchor="middle" x="5023.88" y="-633.45" font-family="Times,serif" font-size="14.00" fill="green">message_type</text>
</g>
<!-- tumcsbot.lib.StrEnum -->
<g id="node12" class="node">
<title>tumcsbot.lib.StrEnum</title>
<polygon fill="#77aadd" stroke="#77aadd" points="5443.5,-915.38 5443.5,-991.12 5617.75,-991.12 5617.75,-915.38 5443.5,-915.38"/>
<text text-anchor="start" x="5451.5" y="-973.83" font-family="Times,serif" font-size="14.00">tumcsbot.lib.StrEnum</text>
<polyline fill="none" stroke="#77aadd" points="5443.5,-965.88 5617.75,-965.88"/>
<text text-anchor="start" x="5511.12" y="-948.58" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="5443.5,-940.62 5617.75,-940.62"/>
<text text-anchor="start" x="5528.38" y="-923.33" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- tumcsbot.lib.MessageType&#45;&gt;tumcsbot.lib.StrEnum -->
<g id="edge1" class="edge">
<title>tumcsbot.lib.MessageType&#45;&gt;tumcsbot.lib.StrEnum</title>
<path fill="none" stroke="black" d="M5116.99,-343.51C5196.06,-402.62 5347.55,-526.29 5434.62,-664.75 5483.02,-741.7 5509.81,-845.71 5522.12,-905.22"/>
<polygon fill="none" stroke="black" points="5518.85,-905.69 5524.26,-914.8 5525.71,-904.31 5518.85,-905.69"/>
</g>
<!-- tumcsbot.lib.CommandParser.Opts -->
<g id="node9" class="node">
<title>tumcsbot.lib.CommandParser.Opts</title>
<polygon fill="#99ddff" stroke="#99ddff" points="5943.88,-280.5 5943.88,-331 6087.38,-331 6087.38,-280.5 5943.88,-280.5"/>
<text text-anchor="start" x="5951.88" y="-313.7" font-family="Times,serif" font-size="14.00">tumcsbot.lib.Opts</text>
<polyline fill="none" stroke="#99ddff" points="5943.88,-305.75 6087.38,-305.75"/>
<polyline fill="none" stroke="#99ddff" points="5943.88,-305.75 6087.38,-305.75"/>
<text text-anchor="start" x="6013.38" y="-288.45" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- tumcsbot.lib.Regex -->
<g id="node10" class="node">
<title>tumcsbot.lib.Regex</title>
<polygon fill="#77aadd" stroke="#77aadd" points="6105.25,-0.5 6105.25,-611 6914,-611 6914,-0.5 6105.25,-0.5"/>
<text text-anchor="start" x="6440.62" y="-593.7" font-family="Times,serif" font-size="14.00">tumcsbot.lib.Regex</text>
<polyline fill="none" stroke="#77aadd" points="6105.25,-585.75 6914,-585.75"/>
<text text-anchor="start" x="6234.75" y="-568.45" font-family="Times,serif" font-size="14.00">_ARGUMENT_PATTERN</text>
<text text-anchor="start" x="6234.75" y="-551.2" font-family="Times,serif" font-size="14.00">_ASTERISKS : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-533.95" font-family="Times,serif" font-size="14.00">_EMOJI : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-516.7" font-family="Times,serif" font-size="14.00">_EMOJI_AUTOCOMPLETED_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-499.45" font-family="Times,serif" font-size="14.00">_GROUP_ARGUMENT_PATTERN</text>
<text text-anchor="start" x="6234.75" y="-482.2" font-family="Times,serif" font-size="14.00">_OPT_ASTERISKS : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-464.95" font-family="Times,serif" font-size="14.00">_REACTION_ARGUMENT_PATTERN</text>
<text text-anchor="start" x="6234.75" y="-447.7" font-family="Times,serif" font-size="14.00">_STREAM : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-430.45" font-family="Times,serif" font-size="14.00">_STREAM_AND_TOPIC_AUTOCOMPLETED_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-413.2" font-family="Times,serif" font-size="14.00">_STREAM_ARGUMENT_PATTERN</text>
<text text-anchor="start" x="6234.75" y="-395.95" font-family="Times,serif" font-size="14.00">_STREAM_AUTOCOMPLETED_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-378.7" font-family="Times,serif" font-size="14.00">_STREAM_ID_PATTERN : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-361.45" font-family="Times,serif" font-size="14.00">_TOPIC : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-344.2" font-family="Times,serif" font-size="14.00">_USER : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-326.95" font-family="Times,serif" font-size="14.00">_USER_ARGUMENT_PATTERN</text>
<text text-anchor="start" x="6234.75" y="-309.7" font-family="Times,serif" font-size="14.00">_USER_AUTOCOMPLETED_ID_TEMPLATE : str</text>
<text text-anchor="start" x="6234.75" y="-292.45" font-family="Times,serif" font-size="14.00">_USER_AUTOCOMPLETED_TEMPLATE : str</text>
<text text-anchor="start" x="6234.75" y="-275.2" font-family="Times,serif" font-size="14.00">_USER_GROUP_ID_PATTERN : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-257.95" font-family="Times,serif" font-size="14.00">_USER_ID_PATTERN : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-240.7" font-family="Times,serif" font-size="14.00">_USER_LINKED_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-223.45" font-family="Times,serif" font-size="14.00">_USER_LINKED_ID_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-206.2" font-family="Times,serif" font-size="14.00">_USER_MENTIONED_CAPTURE : Final[re.Pattern[str]]</text>
<text text-anchor="start" x="6234.75" y="-188.95" font-family="Times,serif" font-size="14.00">_USER_MENTIONED_ID_CAPTURE : Final[re.Pattern[str]]</text>
<polyline fill="none" stroke="#77aadd" points="6105.25,-181 6914,-181"/>
<text text-anchor="start" x="6113.25" y="-163.7" font-family="Times,serif" font-size="14.00">get_captured_string_from_match(match: re.Match[str] | None, capture_group_id: int): str | None</text>
<text text-anchor="start" x="6113.25" y="-146.45" font-family="Times,serif" font-size="14.00">get_captured_strings_from_pattern_or(patterns: list[tuple[re.Pattern[str], list[int]]], string: str): list[str] | None</text>
<text text-anchor="start" x="6113.25" y="-129.2" font-family="Times,serif" font-size="14.00">get_emoji_name(string: str): str | None</text>
<text text-anchor="start" x="6113.25" y="-111.95" font-family="Times,serif" font-size="14.00">get_stream_and_topic_name(string: str): tuple[str, str | None] | None</text>
<text text-anchor="start" x="6113.25" y="-94.7" font-family="Times,serif" font-size="14.00">get_stream_name(string: str): str | None</text>
<text text-anchor="start" x="6113.25" y="-77.45" font-family="Times,serif" font-size="14.00">get_user_name(string: str, get_user_id: bool): str | tuple[str, int | None] | None</text>
<text text-anchor="start" x="6113.25" y="-60.2" font-family="Times,serif" font-size="14.00">match_group_argument(s: str): str</text>
<text text-anchor="start" x="6113.25" y="-42.95" font-family="Times,serif" font-size="14.00">match_reaction_argument(s: str): str</text>
<text text-anchor="start" x="6113.25" y="-25.7" font-family="Times,serif" font-size="14.00">match_stream_argument(s: str): str</text>
<text text-anchor="start" x="6113.25" y="-8.45" font-family="Times,serif" font-size="14.00">match_user_argument(s: str): str</text>
</g>
<!-- tumcsbot.plugin.Event -->
<g id="node13" class="node">
<title>tumcsbot.plugin.Event</title>
<polygon fill="#77aadd" stroke="#77aadd" points="5635.75,-837.75 5635.75,-1068.75 6303.5,-1068.75 6303.5,-837.75 5635.75,-837.75"/>
<text text-anchor="start" x="5888.25" y="-1051.45" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.Event</text>
<polyline fill="none" stroke="#77aadd" points="5635.75,-1043.5 6303.5,-1043.5"/>
<text text-anchor="start" x="5888.25" y="-1026.2" font-family="Times,serif" font-size="14.00">data : Optional[Any]</text>
<text text-anchor="start" x="5888.25" y="-1008.95" font-family="Times,serif" font-size="14.00">dest : str | None</text>
<text text-anchor="start" x="5888.25" y="-991.7" font-family="Times,serif" font-size="14.00">reply_to : Optional[str]</text>
<text text-anchor="start" x="5888.25" y="-974.45" font-family="Times,serif" font-size="14.00">sender : str</text>
<text text-anchor="start" x="5888.25" y="-957.2" font-family="Times,serif" font-size="14.00">type</text>
<polyline fill="none" stroke="#77aadd" points="5635.75,-949.25 6303.5,-949.25"/>
<text text-anchor="start" x="5643.75" y="-931.95" font-family="Times,serif" font-size="14.00">__init__(sender: str, type: EventType, data: Any, dest: str | None, reply_to: str | None): None</text>
<text text-anchor="start" x="5643.75" y="-914.7" font-family="Times,serif" font-size="14.00">__repr__(): str</text>
<text text-anchor="start" x="5643.75" y="-897.45" font-family="Times,serif" font-size="14.00">_empty_event(sender: str, dest: str): &#39;Event&#39;</text>
<text text-anchor="start" x="5643.75" y="-880.2" font-family="Times,serif" font-size="14.00">reload_event(sender: str, dest: str): &#39;Event&#39;</text>
<text text-anchor="start" x="5643.75" y="-862.95" font-family="Times,serif" font-size="14.00">start_event(sender: str, dest: str): &#39;Event&#39;</text>
<text text-anchor="start" x="5643.75" y="-845.7" font-family="Times,serif" font-size="14.00">stop_event(sender: str, dest: str): &#39;Event&#39;</text>
</g>
<!-- tumcsbot.plugin.EventType -->
<g id="node14" class="node">
<title>tumcsbot.plugin.EventType</title>
<polygon fill="#77aadd" stroke="#77aadd" points="5713,-267.88 5713,-343.62 5926.25,-343.62 5926.25,-267.88 5713,-267.88"/>
<text text-anchor="start" x="5721" y="-326.32" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.EventType</text>
<polyline fill="none" stroke="#77aadd" points="5713,-318.38 5926.25,-318.38"/>
<text text-anchor="start" x="5800.12" y="-301.07" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="5713,-293.12 5926.25,-293.12"/>
<text text-anchor="start" x="5817.38" y="-275.82" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- tumcsbot.plugin.EventType&#45;&gt;tumcsbot.lib.StrEnum -->
<g id="edge2" class="edge">
<title>tumcsbot.plugin.EventType&#45;&gt;tumcsbot.lib.StrEnum</title>
<path fill="none" stroke="black" d="M5797.01,-343.58C5758.5,-407.32 5679.27,-543.08 5626.62,-664.75 5590.92,-747.27 5560.11,-847.71 5543.57,-905.39"/>
<polygon fill="none" stroke="black" points="5540.02,-904.07 5540.65,-914.65 5546.75,-905.99 5540.02,-904.07"/>
</g>
<!-- tumcsbot.plugin.EventType&#45;&gt;tumcsbot.plugin.Event -->
<g id="edge17" class="edge">
<title>tumcsbot.plugin.EventType&#45;&gt;tumcsbot.plugin.Event</title>
<path fill="none" stroke="black" d="M5828.12,-343.3C5849.31,-434.49 5905.3,-675.42 5940.16,-825.45"/>
<polygon fill="none" stroke="black" points="5940.13,-825.32 5945.38,-830.26 5942.84,-837.01 5937.59,-832.07 5940.13,-825.32"/>
<text text-anchor="middle" x="5910.38" y="-633.45" font-family="Times,serif" font-size="14.00" fill="green">type</text>
</g>
<!-- tumcsbot.plugin.PluginCommandMixin -->
<g id="node15" class="node">
<title>tumcsbot.plugin.PluginCommandMixin</title>
<polygon fill="#77aadd" stroke="#77aadd" points="1767.25,-849.12 1767.25,-1057.38 2300,-1057.38 2300,-849.12 1767.25,-849.12"/>
<text text-anchor="start" x="1894.12" y="-1040.08" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.PluginCommandMixin</text>
<polyline fill="none" stroke="#77aadd" points="1767.25,-1032.12 2300,-1032.12"/>
<text text-anchor="start" x="1971.38" y="-1014.83" font-family="Times,serif" font-size="14.00">description : str</text>
<text text-anchor="start" x="1971.38" y="-997.58" font-family="Times,serif" font-size="14.00">events : list</text>
<text text-anchor="start" x="1971.38" y="-980.33" font-family="Times,serif" font-size="14.00">syntax : str</text>
<text text-anchor="start" x="1971.38" y="-963.08" font-family="Times,serif" font-size="14.00">zulip_events : list</text>
<polyline fill="none" stroke="#77aadd" points="1767.25,-955.12 2300,-955.12"/>
<text text-anchor="start" x="1775.25" y="-938.83" font-family="Times,serif" font-size="14.00">_init_db(): None</text>
<text text-anchor="start" x="1775.25" y="-924.83" font-family="Times,serif" font-size="14.00">get_usage(): tuple[str, str, str]</text>
<text text-anchor="start" x="1775.25" y="-910.83" font-family="Times,serif" font-size="14.00">handle_event(event: Event): None</text>
<text text-anchor="start" x="1775.25" y="-896.83" font-family="Times,serif" font-style="italic" font-size="14.00">handle_message</text>
<text text-anchor="start" x="1892.25" y="-896.83" font-family="Times,serif" font-size="14.00">(message: dict[str, Any]): Response | Iterable[Response]</text>
<text text-anchor="start" x="1775.25" y="-882.83" font-family="Times,serif" font-size="14.00">handle_zulip_event(event: Event): Response | Iterable[Response]</text>
<text text-anchor="start" x="1775.25" y="-868.83" font-family="Times,serif" font-size="14.00">is_responsible(event: Event): bool</text>
<text text-anchor="start" x="1775.25" y="-854.83" font-family="Times,serif" font-size="14.00">update_plugin_usage(): None</text>
</g>
<!-- tumcsbot.plugin.PluginCommandMixin&#45;&gt;tumcsbot.plugin._Plugin -->
<g id="edge3" class="edge">
<title>tumcsbot.plugin.PluginCommandMixin&#45;&gt;tumcsbot.plugin._Plugin</title>
<path fill="none" stroke="black" d="M2123.75,-1057.34C2199.51,-1144 2311.07,-1271.62 2410.73,-1385.62"/>
<polygon fill="none" stroke="black" points="2408.67,-1387.57 2417.88,-1392.8 2413.94,-1382.97 2408.67,-1387.57"/>
</g>
<!-- tumcsbot.plugin.PluginContext -->
<g id="node16" class="node">
<title>tumcsbot.plugin.PluginContext</title>
<polygon fill="#77aadd" stroke="#77aadd" points="2318.25,-872.25 2318.25,-1034.25 2947,-1034.25 2947,-872.25 2318.25,-872.25"/>
<text text-anchor="start" x="2521.25" y="-1016.95" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.PluginContext</text>
<polyline fill="none" stroke="#77aadd" points="2318.25,-1009 2947,-1009"/>
<text text-anchor="start" x="2463.5" y="-991.7" font-family="Times,serif" font-size="14.00">_logging_level : Final[Any]</text>
<text text-anchor="start" x="2463.5" y="-974.45" font-family="Times,serif" font-size="14.00">_push_loopback : Final[Callable[[Event], None]]</text>
<text text-anchor="start" x="2463.5" y="-957.2" font-family="Times,serif" font-size="14.00">_zuliprc : Final[str]</text>
<text text-anchor="start" x="2463.5" y="-939.95" font-family="Times,serif" font-size="14.00">logging_level</text>
<text text-anchor="start" x="2463.5" y="-922.7" font-family="Times,serif" font-size="14.00">push_loopback</text>
<text text-anchor="start" x="2463.5" y="-905.45" font-family="Times,serif" font-size="14.00">zuliprc</text>
<polyline fill="none" stroke="#77aadd" points="2318.25,-897.5 2947,-897.5"/>
<text text-anchor="start" x="2326.25" y="-880.2" font-family="Times,serif" font-size="14.00">__init__(zuliprc: str, push_loopback: Callable[[Event], None], logging_level: Any): None</text>
</g>
<!-- tumcsbot.plugin.PluginContext&#45;&gt;tumcsbot.plugin._Plugin -->
<g id="edge18" class="edge">
<title>tumcsbot.plugin.PluginContext&#45;&gt;tumcsbot.plugin._Plugin</title>
<path fill="none" stroke="black" d="M2632.97,-1033.92C2633.34,-1118.72 2633.95,-1257.45 2634.48,-1381.09"/>
<polygon fill="none" stroke="black" points="2634.48,-1380.87 2638.51,-1386.86 2634.54,-1392.87 2630.51,-1386.89 2634.48,-1380.87"/>
<text text-anchor="middle" x="2687.12" y="-1263.7" font-family="Times,serif" font-size="14.00" fill="green">plugin_context</text>
</g>
<!-- tumcsbot.plugin.PluginProcess -->
<g id="node17" class="node">
<title>tumcsbot.plugin.PluginProcess</title>
<polygon fill="#77aadd" stroke="#77aadd" points="2965.38,-880.88 2965.38,-1025.62 3507.88,-1025.62 3507.88,-880.88 2965.38,-880.88"/>
<text text-anchor="start" x="3125.62" y="-1008.33" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.PluginProcess</text>
<polyline fill="none" stroke="#77aadd" points="2965.38,-1000.38 3507.88,-1000.38"/>
<text text-anchor="start" x="3138" y="-983.08" font-family="Times,serif" font-size="14.00">need_exclusive_client : bool</text>
<polyline fill="none" stroke="#77aadd" points="2965.38,-975.12 3507.88,-975.12"/>
<text text-anchor="start" x="2973.38" y="-957.83" font-family="Times,serif" font-size="14.00">__init__(plugin_context: PluginContext, client: SharedClient | None): None</text>
<text text-anchor="start" x="2973.38" y="-940.58" font-family="Times,serif" font-size="14.00">clear_queue(): None</text>
<text text-anchor="start" x="2973.38" y="-923.33" font-family="Times,serif" font-size="14.00">create_logger(): logging.Logger</text>
<text text-anchor="start" x="2973.38" y="-906.08" font-family="Times,serif" font-size="14.00">create_queue(): &#39;multiprocessing.SimpleQueue[Event]&#39;</text>
<text text-anchor="start" x="2973.38" y="-888.83" font-family="Times,serif" font-size="14.00">create_worker(): multiprocessing.Process</text>
</g>
<!-- tumcsbot.plugin.PluginProcess&#45;&gt;tumcsbot.plugin._Plugin -->
<g id="edge4" class="edge">
<title>tumcsbot.plugin.PluginProcess&#45;&gt;tumcsbot.plugin._Plugin</title>
<path fill="none" stroke="black" d="M3174.57,-1025.35C3100.54,-1110.17 2972.63,-1256.73 2860,-1385.79"/>
<polygon fill="none" stroke="black" points="2856.88,-1383.03 2852.94,-1392.87 2862.16,-1387.64 2856.88,-1383.03"/>
</g>
<!-- tumcsbot.plugin.PluginThread -->
<g id="node18" class="node">
<title>tumcsbot.plugin.PluginThread</title>
<polygon fill="#77aadd" stroke="#77aadd" points="3526.38,-880.88 3526.38,-1025.62 4068.88,-1025.62 4068.88,-880.88 3526.38,-880.88"/>
<text text-anchor="start" x="3689.25" y="-1008.33" font-family="Times,serif" font-size="14.00">tumcsbot.plugin.PluginThread</text>
<polyline fill="none" stroke="#77aadd" points="3526.38,-1000.38 4068.88,-1000.38"/>
<text text-anchor="start" x="3699" y="-983.08" font-family="Times,serif" font-size="14.00">need_exclusive_client : bool</text>
<polyline fill="none" stroke="#77aadd" points="3526.38,-975.12 4068.88,-975.12"/>
<text text-anchor="start" x="3534.38" y="-957.83" font-family="Times,serif" font-size="14.00">__init__(plugin_context: PluginContext, client: SharedClient | None): None</text>
<text text-anchor="start" x="3534.38" y="-940.58" font-family="Times,serif" font-size="14.00">clear_queue(): None</text>
<text text-anchor="start" x="3534.38" y="-923.33" font-family="Times,serif" font-size="14.00">create_logger(): logging.Logger</text>
<text text-anchor="start" x="3534.38" y="-906.08" font-family="Times,serif" font-size="14.00">create_queue(): &#39;queue.SimpleQueue[Event]&#39;</text>
<text text-anchor="start" x="3534.38" y="-888.83" font-family="Times,serif" font-size="14.00">create_worker(): Thread</text>
</g>
<!-- tumcsbot.plugin.PluginThread&#45;&gt;tumcsbot.plugin._Plugin -->
<g id="edge5" class="edge">
<title>tumcsbot.plugin.PluginThread&#45;&gt;tumcsbot.plugin._Plugin</title>
<path fill="none" stroke="black" d="M3741.24,-1025.39C3688.42,-1088.5 3604.6,-1180 3516.62,-1241.75 3343.49,-1363.29 3127.63,-1462.28 2952.91,-1531.52"/>
<polygon fill="none" stroke="black" points="2951.8,-1528.59 2943.79,-1535.51 2954.37,-1535.1 2951.8,-1528.59"/>
</g>
<!-- tumcsbot.tumcsbot._QueueForwarder -->
<g id="node21" class="node">
<title>tumcsbot.tumcsbot._QueueForwarder</title>
<polygon fill="#77aadd" stroke="#77aadd" points="0,-1588.75 0,-1699 537.25,-1699 537.25,-1588.75 0,-1588.75"/>
<text text-anchor="start" x="133.62" y="-1681.7" font-family="Times,serif" font-size="14.00">tumcsbot.tumcsbot._QueueForwarder</text>
<polyline fill="none" stroke="#77aadd" points="0,-1673.75 537.25,-1673.75"/>
<text text-anchor="start" x="236.38" y="-1656.45" font-family="Times,serif" font-size="14.00">dest : str</text>
<text text-anchor="start" x="236.38" y="-1639.2" font-family="Times,serif" font-size="14.00">src : str</text>
<polyline fill="none" stroke="#77aadd" points="0,-1631.25 537.25,-1631.25"/>
<text text-anchor="start" x="8" y="-1613.95" font-family="Times,serif" font-size="14.00">__init__(src: &#39;SimpleQueueM[Event]&#39;, dest: &#39;SimpleQueueT[Event]&#39;): None</text>
<text text-anchor="start" x="8" y="-1596.7" font-family="Times,serif" font-size="14.00">run(): None</text>
</g>
<!-- tumcsbot.tumcsbot._QueueForwarder&#45;&gt;tumcsbot.tumcsbot.TumCSBot -->
<g id="edge13" class="edge">
<title>tumcsbot.tumcsbot._QueueForwarder&#45;&gt;tumcsbot.tumcsbot.TumCSBot</title>
<path fill="none" stroke="black" d="M272.11,-1698.94C279.73,-1778.53 303.86,-1928.53 379.88,-2028 382.17,-2031 384.52,-2033.98 386.93,-2036.91"/>
<polygon fill="black" stroke="black" points="386.95,-2036.94 393.88,-2038.93 394.72,-2046.09 387.79,-2044.1 386.95,-2036.94"/>
<text text-anchor="middle" x="466.5" y="-2014.7" font-family="Times,serif" font-size="14.00" fill="green">_queue_delivery_worker</text>
</g>
<!-- tumcsbot.tumcsbot._RootClient -->
<g id="node22" class="node">
<title>tumcsbot.tumcsbot._RootClient</title>
<polygon fill="#77aadd" stroke="#77aadd" points="726.12,-271.88 726.12,-339.62 967.12,-339.62 967.12,-271.88 726.12,-271.88"/>
<text text-anchor="start" x="734.12" y="-322.32" font-family="Times,serif" font-size="14.00">tumcsbot.tumcsbot._RootClient</text>
<polyline fill="none" stroke="#77aadd" points="726.12,-314.38 967.12,-314.38"/>
<polyline fill="none" stroke="#77aadd" points="726.12,-314.38 967.12,-314.38"/>
<text text-anchor="start" x="790.38" y="-297.07" font-family="Times,serif" font-size="14.00">__init__(): None</text>
<text text-anchor="start" x="790.38" y="-279.82" font-family="Times,serif" font-size="14.00">_init_db(): None</text>
</g>
<!-- tumcsbot.tumcsbot._RootClient&#45;&gt;tumcsbot.client.Client -->
<g id="edge6" class="edge">
<title>tumcsbot.tumcsbot._RootClient&#45;&gt;tumcsbot.client.Client</title>
<path fill="none" stroke="black" d="M863.01,-339.2C892.96,-398.5 959.32,-529.89 1022.95,-655.88"/>
<polygon fill="none" stroke="black" points="1020.08,-656.97 1027.72,-664.32 1026.33,-653.82 1020.08,-656.97"/>
</g>
<!-- tumcsbot.tumcsbot._RootClient&#45;&gt;tumcsbot.tumcsbot.TumCSBot -->
<g id="edge14" class="edge">
<title>tumcsbot.tumcsbot._RootClient&#45;&gt;tumcsbot.tumcsbot.TumCSBot</title>
<path fill="none" stroke="black" d="M811.3,-339.58C751.3,-398.07 631.57,-527.11 586.62,-664.75 576.26,-696.48 577.19,-1964.68 584.62,-1992.75 588.36,-2006.85 593.11,-2020.98 598.59,-2034.95"/>
<polygon fill="black" stroke="black" points="598.48,-2034.7 604.45,-2038.75 603.02,-2045.81 597.05,-2041.77 598.48,-2034.7"/>
<text text-anchor="middle" x="599.5" y="-1263.7" font-family="Times,serif" font-size="14.00" fill="green">client</text>
</g>
<!-- tumcsbot.tumcsbot._ZulipEventListener&#45;&gt;tumcsbot.tumcsbot.TumCSBot -->
<g id="edge15" class="edge">
<title>tumcsbot.tumcsbot._ZulipEventListener&#45;&gt;tumcsbot.tumcsbot.TumCSBot</title>
<path fill="none" stroke="black" d="M2004.38,-1707.59C1959.13,-1786.65 1870.56,-1920.9 1756.62,-1992.75 1549.47,-2123.38 1279.08,-2184.65 1067.05,-2213.36"/>
<polygon fill="black" stroke="black" points="1066.91,-2213.38 1061.49,-2218.13 1055.02,-2214.96 1060.44,-2210.2 1066.91,-2213.38"/>
<text text-anchor="middle" x="1762.62" y="-2014.7" font-family="Times,serif" font-size="14.00" fill="green">_event_listener</text>
</g>
</g>
</svg>
